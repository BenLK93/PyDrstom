# Reference main.py
#: import main main
#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton
#: import Factory kivy.factory.Factory
DelovneUre:

<PrikazListButton>
	text_size: self.size
	halign: 'left'
	selected_color: (0.7, 0, 0, 0.8)
	deselected_color: (0.1, 0.3, 1, 1)

<UpdatePopup@Popup>
	datum_udpate: datum_popup
	auto_dismiss: False
	size_hint: (0.5, 0.15)
	title: 'Popravi vnos'
	spacing: 10
	padding: 10
	
	BoxLayout:
		orientation: 'vertical'
		size_hint_y: 1
		size_hint_x: 1
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.4
			Spinner:
				text: 'Ime'
			TextInput:
				id: datum_popup
				text: 'Datum'

			TextInput:
				text: 'odhod'

			TextInput:
				text: 'prihod'

			Button:
				text: 'Popravi vnos'
				
		BoxLayout:
			size_hint_y: 0.2
			Button:
				text: 'Close'
				on_release: root.dismiss()
		


<DelovneUre>:
	#Vnos
	ime_iz_vnosa: ime_vnos
	datum_iz_vnosa: datum_vnos
	prihod_iz_vnosa: prihod_vnos
	odhod_iz_vnosa: odhod_vnos
	tip_dneva: tip_dan
	#vnos out
	vnos_msg: vnos_out
	#Iskanje
	ime_iskanje: ime_i
	datumod_iskanje: datum_od
	datumdo_iskanje: datum_do
	# datumvod_iskanje: datum_vod
	# datumvdo_iskanje: datum_vdo
	#Prikaz podatkov
	dbprikaz: prikaz
	

	orientation: 'vertical'
	#Main wrapper
	BoxLayout:
		orientation: 'vertical'
		
		canvas:
			Color:
				rgba: (0.3, 0.3, 0.3, 0.8)
			Rectangle:
				pos: self.pos
				size: self.size

		# meni
		# BoxLayout:
		# 	size_hint_y: None
		# 	height: 30
			

		# 	canvas:
		# 		Color:
		# 			rgba: (1, 1, 1, 0.9)
		# 		Rectangle:
		# 			pos: self.pos
		# 			size: self.size
		# 	# Button:
		# 	# 	text: ''
		# 	# 	size_hint_x: 2
		# 	# 	width: 30
		# 	# Button:
		# 	# 	text: ''
		# 	# 	size_hint_x: 2
		# 	# 	width: 30
		# 	# Button:
		# 	# 	text: ''
		# 	# 	size_hint_x: 2
		# 	# 	width: 30
		# 	Label:
		# 		text: ''
		# 		size_hint_x: 6
		# 		width: 30
		#meni konec
		
		#zgornji del
		BoxLayout:
			orientation: 'horizontal'
			spacing: 10
			padding: 10
			size_hint_y: 2
			#VNos in iskanje
			BoxLayout:
				orientation: 'vertical'
				spacing: 10
				
				#Vnos
				BoxLayout:
					orientation: 'vertical'
				    size_hint_y: 1.1
				    canvas:
						Color:
							rgba: (0, 0.25, 0.7, 1)
						Rectangle:
							pos: self.pos
							size: self.size
					BoxLayout:
						orientation: 'horizontal'
						size_hint_y: None
						height: 40
						spacing: 10
						padding: 7
						
						Spinner:
							id: ime_vnos
							text: 'Ime'
							values: ["Tatjana", "Maja", "Tomaz", "Edin", "Kristina", "Ana"]
							size_hint_x: 1
						Spinner:
							id: tip_dan
							text: 'Delovni-dan'
							values: ["Delovni-dan", "Praznik", "Dopust", "Bolniska"]
							size_hint_x: 1
						Label:
							text: 'Datum:'
							size_hint_x: 0.5
						Button:
							text: 'Danes'
							size_hint_x: 0.5
							on_press: root.vnos_datum_danes()

						TextInput:
							id: datum_vnos
							text: 
							size_hint_x: 0.9
							multiline: False
						
						Label:
							text: 'Prihod:'
							size_hint_x: 0.5
						TextInput:
							id: prihod_vnos
							text: 'hh.mm'
							size_hint_x: 1
							multiline: False
						Label:
							text: 'Odhod:'
							size_hint_x: 0.5
						TextInput:
							id: odhod_vnos
							text: 'hh.mm'
							size_hint_x: 1
							multiline: False

						Button:
							text: 'Vnos ur'
							size_hint_x: 1
							on_press: root.vnos_v_db()

				#vnos konec
				#Iskanje 		
				
				#ispis vnosa
				BoxLayout:
					orientation: 'horizontal'
					size_hint_y: 1
					canvas:
						Color:
							rgba: (0.1, 0.1, 0.1, 0.7)
						Rectangle:
							pos: self.pos
							size: self.size
					Label:
						text: ''
						id: vnos_out

				BoxLayout:
					orientation: 'horizontal'
					spacing: 10
					padding: 10
					size_hint_y: 1.1
					canvas:
						Color:
							rgba: (0, 0.25, 0.7, 1)
						Rectangle:
							pos: self.pos
							size: self.size
					Label:
						text: 'Izberite ime:'
						size_hint_x: 1
						
					Spinner:
						id: ime_i
						text: 'Ime'
						values: ["Tatjana", "Maja", "Tomaz", "Edin", "Kristina"]
						size_hint_x: 1
						
					Label:
						text: 'Datum: '
						size_hint_x: 1
						
					TextInput:
						id: datum_od
						text: '01.01.2018'
						size_hint_x: 1
						multiline: False
						
					Label:
						text: '/'
						size_hint_x: 0.5
						
					TextInput:
						id: datum_do
						text: '01.01.2019'
						size_hint_x: 1
						multiline: False
						
					Button:
						text: 'Iskanje'
						size_hint_x: 1
						on_press: root.iskanje()
						
					

						# BoxLayout:
						# 	orientation: 'horizontal'

						# 	Label:
						# 		text: 'Datum vnosa: '
						# 		size_hint_x: 1
						# 	TextInput:
						# 		id: datum_vod
						# 		text: 'datum'
						# 		size_hint_x: 2
						# 	Label:
						# 		text: '/'
						# 		size_hint_x: 0.5
						# 	TextInput:
						# 		id: datum_vdo
						# 		text: 'datum'
						# 		size_hint_x: 2


						
					#iskanje vnos konec
				#Iskanje konec	
		#zgornji del konec
			
		#spodnji del
		BoxLayout:
			padding: 10
			orientation: 'vertical'
			size_hint_y: 8
			canvas:
				Color:
					rgba: (1, 1, 1, 0)
				Rectangle:
					pos: self.pos
					size: self.size

			Label:
				size_hint_y: 0.3
				text: 'Rezultati iskanja'
			ListView:
				id: prikaz
				size_hint_y: 9
				adapter:
					ListAdapter(data=['''         '''], cls=main.PrikazListButton)

			BoxLayout:
				orientation: 'horizontal'
				size_hint_y: 0.4
				Button:
					text: 'Izbrisi izbrano'
					size_hint_y: 1
					on_press: root.delete_item()
				Button:
					text: ''
					size_hint_y: 1
					# on_release: Factory.UpdatePopup().open()
				
				Button:
					text: ''
					size_hint_y: 1
					on_press: root.vnos_datum_danes() 
				Button:
					text: 'Pocisti seznam'
					size_hint_y: 1 
					on_press: root.clear_list()
